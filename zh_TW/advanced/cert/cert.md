# 憑證管理

憑證管理頁面用於申請、上傳和管理 SSL/TLS 憑證。

## 憑證列表

進入 **憑證** 頁面，預設顯示憑證列表。

![憑證列表](/images/cert/cert-list.png)

列表顯示以下資訊：

- **網域**：憑證包含的網域
- **類型**：憑證類型（ACME/上傳）
- **關聯帳戶**：使用的 ACME 帳戶
- **頒發者**：憑證頒發機構
- **過期時間**：憑證到期時間
- **下次續簽時間**：自動續簽時間
- **自動續簽**：是否啟用自動續簽
- **操作**：續簽、下載、刪除等

## 建立憑證

點擊 **建立憑證** 按鈕申請新憑證。

### 配置項

- **網域**：要申請憑證的網域，支援多個網域
- **金鑰類型**：RSA 或 ECC
- **網站**：該憑證關聯的網站
- **帳戶**：該憑證關聯的 ACME 帳戶
- **DNS**：該憑證關聯的 DNS API

### 網域格式

```
example.com           # 單個網域
www.example.com       # 子網域
*.example.com         # 泛網域（需要 DNS 驗證）
```

:::tip 提示
泛網域憑證（\*.example.com）只能透過 DNS 驗證方式申請。
:::

## 上傳憑證

點擊 **上傳憑證** 按鈕上傳已有憑證。

需要提供：

- **憑證檔案**：PEM 格式的憑證（.crt 或 .pem），請包含完整憑證鏈
- **私鑰檔案**：PEM 格式的私鑰（.key）

## 套用憑證

申請或上傳憑證後，需要在網站設定中啟用 HTTPS 並選擇憑證。

1. 進入網站編輯頁面
2. 切換到 **HTTPS** 標籤
3. 啟用 HTTPS
4. 選擇憑證
5. 儲存配置

## 自動續簽

ACME 憑證支援自動續簽：

- 憑證簽發後透過 ARI 取得建議的續簽時間
- 系統會在續簽時間前自動嘗試續簽
- 續簽成功後自動更新網站配置
- 續簽失敗會傳送通知

## 憑證操作

### 手動續簽

點擊 **續簽** 按鈕手動觸發憑證續簽。

### 下載憑證

點擊 **下載** 按鈕下載憑證檔案，包含：

- 完整憑證鏈（.crt）
- 私鑰檔案（.key）

### 刪除憑證

點擊 **刪除** 按鈕刪除憑證。

## 常見問題

### 申請失敗

- 檢查網域是否正確解析到伺服器
- 檢查 80 連接埠是否可存取（HTTP 驗證）
- 檢查 DNS API 配置是否正確（DNS 驗證）

### 續簽失敗

- 檢查網域解析是否變更
- 檢查 DNS API 是否過期
- 查看面板日誌了解詳細錯誤
