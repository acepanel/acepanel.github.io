# 证书管理

证书管理页面用于申请、上传和管理 SSL/TLS 证书。

## 证书列表

进入 **证书** 页面，默认显示证书列表。

![证书列表](/images/cert/cert-list.png)

列表显示以下信息：

- **域名**：证书包含的域名
- **类型**：证书类型（ACME/上传）
- **关联账户**：使用的 ACME 账户
- **颁发者**：证书颁发机构
- **过期时间**：证书到期时间
- **下次续签时间**：自动续签时间
- **自动续签**：是否启用自动续签
- **操作**：续签、下载、删除等

## 创建证书

点击 **创建证书** 按钮申请新证书。

### 配置项

- **域名**：要申请证书的域名，支持多个域名
- **密钥类型**：RSA 或 ECC
- **网站**：该证书关联的网站
- **账户**：该证书关联的 ACME 账户
- **DNS**：该证书关联的 DNS API

### 域名格式

```
example.com           # 单个域名
www.example.com       # 子域名
*.example.com         # 泛域名（需要 DNS 验证）
```

:::tip 提示
泛域名证书（\*.example.com）只能通过 DNS 验证方式申请。
:::

## 上传证书

点击 **上传证书** 按钮上传已有证书。

需要提供：

- **证书文件**：PEM 格式的证书（.crt 或 .pem），请包含完整证书链
- **私钥文件**：PEM 格式的私钥（.key）

## 应用证书

申请或上传证书后，需要在网站设置中启用 HTTPS 并选择证书。

1. 进入网站编辑页面
2. 切换到 **HTTPS** 标签
3. 启用 HTTPS
4. 选择证书
5. 保存配置

## 自动续签

ACME 证书支持自动续签：

- 证书签发后通过 ARI 获取建议的续签时间
- 系统会在续签时间前自动尝试续签
- 续签成功后自动更新网站配置
- 续签失败会发送通知

## 证书操作

### 手动续签

点击 **续签** 按钮手动触发证书续签。

### 下载证书

点击 **下载** 按钮下载证书文件，包含：

- 完整证书链（.crt）
- 私钥文件（.key）

### 删除证书

点击 **删除** 按钮删除证书。

## 常见问题

### 申请失败

- 检查域名是否正确解析到服务器
- 检查 80 端口是否可访问（HTTP 验证）
- 检查 DNS API 配置是否正确（DNS 验证）

### 续签失败

- 检查域名解析是否变更
- 检查 DNS API 是否过期
- 查看面板日志了解详细错误
